<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/styles/style.css">
    <title>Личный кабинет</title>

</head>
<body>
    <div class="big_con" style="height: 100vh; display: flex; justify-content: center; align-items: center;">
        <div class="block_auth">
            <h2 style="color: black; padding: 0;">ЛИЧНЫЙ КАБИНЕТ</h2>
            <div class="profile-picture" onclick="addPhoto()">
                <span class="plus">+</span>
            </div>
           
            <form>
                <input type="text" id="name" placeholder="Имя" class="enter"> <br><br>
                <input type="text" id="lastName" placeholder="Фамилия" class="enter"> <br><br>
                <input type="text" id="phone" placeholder="Номер телефона" class="enter"> 
                
                
            </form>
            <!-- <button class="orange" onclick="checkForm()">
                Сохранить изменения
            </button> -->
            <button class="orange"><a href="izmpassword.html"  class="p14">Изменить пароль</a></button>
            <span class="close" onclick="window.location.href='main.html'">&times;</span>
            <div class="button-container">
                <button class="half-orange orange" onclick="window.location.href='testDrive.html'">Записаться на тест-драйв</button>
                <button class="half-orange orange" onclick="window.location.href='credit.html'">Рассчитать кредит</button>
            </div>
        </div>
    </div>
    <script>
        function addPhoto() {
    // Создаем новый элемент input type="file"
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';

    // Добавляем обработчик события change к элементу input
    input.addEventListener('change', function() {
        // Получаем выбранный файл
        const file = input.files[0];

        // Читаем файл как base64 строку
        const reader = new FileReader();
        reader.onload = function() {
            // Устанавливаем base64 строку в качестве фона элемента profile-picture
            document.querySelector('.profile-picture').style.backgroundImage = `url(${reader.result})`;

            // Remove the "+" sign after adding a photo
            const plusSign = document.querySelector('.profile-picture .plus');
            if (plusSign) {
                plusSign.remove();
            }
        }
        reader.readAsDataURL(file);
    });

    // Имитируем клик по элементу input
    input.click();
}

        function checkForm() {
            let nameInput = document.getElementById('name').value;
            let lastNameInput = document.getElementById('lastName').value;
            let phoneInput = document.getElementById('phone').value;
            let isValid = false;

            // Проверка формата 89290390339
            if (phoneInput.match(/^\d{11}$/)) { // 10 цифр
                isValid = true;
            }

            // Проверка формата +7290390399
            if (phoneInput.match(/^\+7\d{10}$/)) { // +7 и 10 цифр
                isValid = true;
            }

            if (isValid) {
                // Если данные валидные, выводим сообщение об успехе (например, alert)
                alert('Ваши данные успешно сохранены!');
            } else {
                // Если данные не валидные, выводим сообщение об ошибке (например, alert)
                alert('Неверный формат данных. Пожалуйста, заполните все поля корректно.');
            }
        }
    </script>

</body>
</html>